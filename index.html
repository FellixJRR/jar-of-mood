<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mood Capsule ðŸŒ·</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    min-height: 100vh;
    background: linear-gradient(135deg, #e6d9ff, #ffe6f0, #e6f2ff);
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding: 30px 15px;
    box-sizing: border-box;
}

.container {
    background: rgba(255, 255, 255, 0.75);
    backdrop-filter: blur(12px);
    border-radius: 24px;
    padding: 35px 25px;
    width: 100%;
    max-width: 420px;
    text-align: center;
    box-shadow: 0 15px 40px rgba(0,0,0,0.1);
}

h1 {
    font-weight: 500;
    color: #5a4d7a;
}

p {
    color: #6f6f8a;
}

.mood-btn {
    width: 100%;
    padding: 13px;
    margin: 8px 0;
    border: none;
    border-radius: 15px;
    font-size: 15px;
    cursor: pointer;
    transition: 0.3s;
    background: #f0ecff;
    color: #5a4d7a;
}

.mood-btn:hover {
    transform: scale(1.02);
    background: #e6ddff;
    box-shadow: 0 6px 15px rgba(0,0,0,0.08);
}

.hidden {
    display: none;
}

.message {
    font-size: 16px;
    line-height: 1.6;
    margin: 30px 0;
    padding: 15px;
    background: rgba(255,255,255,0.6);
    border-radius: 15px;
    color: #4b4b66;
}

.action-btn {
    padding: 9px 14px;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    font-size: 13px;
    margin: 6px 4px;
    background: #ffe6f0;
    color: #7a4d61;
    transition: 0.3s;
}

.action-btn:hover {
    background: #ffd6e6;
    box-shadow: 0 6px 15px rgba(0,0,0,0.08);
}
</style>
</head>

<body>

<div class="container">
    <div id="menu">
        <h1>Capsule of Mood ðŸŒ·</h1>
        <p>Pilih perasaan kamu hari ini</p>

        <button class="mood-btn" onclick="openMood('sedih')">ðŸ˜” Sedih</button>
        <button class="mood-btn" onclick="openMood('capek')">ðŸ˜´ Capek</button>
        <button class="mood-btn" onclick="openMood('cemas')">ðŸ˜Ÿ Cemas</button>
        <button class="mood-btn" onclick="openMood('senang')">ðŸ˜Š Senang</button>
    </div>

    <div id="moodPage" class="hidden">
        <h1 id="moodTitle"></h1>
        <div class="message" id="messageBox"></div>

        <button class="action-btn" onclick="nextMessage()">Berikutnya</button>
        <button class="action-btn" onclick="changeSong()">Ganti Lagu ðŸŽµ</button>
        <button class="action-btn" onclick="backMenu()">Menu Utama</button>

        <audio id="music" loop></audio>
    </div>
</div>

<script>
    const moods = {
        sedih: {
            title: "ðŸŒ§ Hari yang Berat..",
            music: ["music/sedih1.mp3", "music/sedih2.mp3"],
            messages: [
                "Tidak apa-apa merasa sedih",
                "Kamu sudah kuat sejauh iniðŸ’ª",
                "Hari buruk tidak menentukan dirimuðŸ«µ",
                "Pelan-pelan saja ya",
                "Kamu tidak gagal, kamu hanya lelahðŸ˜Š",
                "Tangismu tidak membuatmu lemah, jika perlu ditangiskan maka tangiskan tidak perlu ditahan",
                "REMEMBER YOU ARE NOT ALONE!! FRIENDS, FAMILIES, THEY ALWAYS THERE FOR YOU!!.",
                "Kamu sudah bertahan sejauh ini, itu luar biasa",
                "Sedihmu valid, dan kamu tetap pantas dicintaiðŸ˜‡",
                "Kamu tidak sendirian, walau terasa sepi",
                "Ini hanya hari yang buruk, bukan hidup yang buruk",
                "Kamu lebih kuat dari yang kamu kiraðŸ˜‰",
                "Luka ini tidak selamanya",
                "Dunia belum selesai memberimu kejutan indah",
                "Sakit hari ini bisa jadi cerita kuatmu nanti",
                "Kamu berhargaâœ¨",
                "Semua akan membaikðŸ˜‰",
                "Hayooo mana senyum Pepsodentnya? WKWKWK"
            ]
        },
        capek: {
            title: "ðŸŒ¿ Waktunya Jeda, Pelan dulu..",
            music: ["music/capek1.mp3", "music/capek2.mp3"],
            messages: [
                "Istirahat bukan berarti menyerahðŸ™…â€â™€ï¸",
                "Kamu sudah berusaha keras",
                "Berhenti sebentar itu wajar",
                "Tarik napas yang dalam",
                "Kamu tidak malas, kamu hanya lelahðŸ˜ª",
                "Istirahat itu bagian dari perjalanan, bukan jeda yang sia-sia",
                "Pelan pelan ya... tidak semua harus selesai hari ini",
                "Tidak apa apa berhenti sebentar..",
                "Kamu sudah melakukan yang terbaik hari iniðŸ˜‡",
                "Dunia bisa menunggu tetapi kesehatanmu tidak boleh terganggu. YOUR HEALTHY IS IMPORTANT!",
                "Kamu bukan mesin, kamu manusia. Manusia itu butuh istirahatðŸ˜´",
                "Capek itu tanda kamu sedang berusaha",
                "Tubuh dan hatimu juga butuh dipeluk. Need Hug? Sending Virtual Hug to youðŸ«‚...",
                "Tidak perlu selalu kuat setiap waktu",
                "Rehat bukan berarti kalah",
                "Diam sejenak juga bentuk keberanianðŸ«µ",
                "Ada pepatah pernah mengatakan, Pelan tapi pasti..",
                "Jangan terlalu keras sama diri sendiri yaðŸ˜‡"
            ]
        },
        cemas: {
            title: "ðŸŒŠ Pikiranmu Padat..",
            music: ["music/cemas1.mp3", "music/cemas2.mp3"],
            messages: [
                "Kamu aman sekarang",
                "Tidak semua yang kamu takutkan terjadi",
                "Satu langkah kecil cukupðŸƒâ€â™€ï¸",
                "Pelan-pelan yaaa",
                "Jangan terlalu dipikirin..",
                "Kamu aman saat iniðŸ¤—",
                "Biarkan pikiran lewat seperti awanâ˜ï¸",
                "Tidak semua pikiran harus dipercayaðŸ˜ˆ",
                "Tenang... semuanya belum tentu seburuk yang kamu pikirkanðŸ˜Š",
                "Jangan hukum diri sendiri dengan asumsi",
                "Fokus saja pada yang bisa kamu kendalikan, jangan terpengaruh oleh rasa cemasmuðŸ˜‰",
                "Kamu tetap berharga bahkan saat panikâœ¨",
                "Semua akan reda, untuk sekarang fokus sajaðŸ«µ"
            ]
        },
        senang: {
            title: "âœ¨ Hatimu Bersinar",
            music: ["music/senang1.mp3", "music/senang2.mp3"],
            messages: [
                "Nikmati momen iniðŸ˜Œ",
                "Kamu pantas bahagia",
                "Senyummu indah hari iniðŸ¤©",
                "Semoga cerahnya bertahan lamaðŸ˜",
                "Ini baru dirimu yang kukenalðŸ˜",
                "Simpan rasa ini baik baik dihati",
                "Senyummu membuat dunia lebih ringan",
                "Hari ini terasa bersahabat ya",
                "Jangan lupa berterima kasih pada dirimu sendiriðŸ˜‰",
                "Adem bet tu hati...",
                "Energi senangnya sampai sini gesss",
                "Tetaplah bersinar seperti ini",
                "Keep that smileðŸ˜ðŸ«µ",
                "Eaaa lagi senang..",
                "Jangan takut menikmati kebahagiaan",
                "Simpan kenangan ini untuk hari yang sulit nanti"
            ]
        }
    };
    
    let currentMood = "";
    let messageQueue = [];
    let messageIndex = 0;
    let lastSong = "";
    
    /* === SHUFFLE FUNCTION === */
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }
    
    /* === SIAPKAN PESAN (SHUFFLE SEKALI) === */
    function prepareMessages() {
        messageQueue = [...moods[currentMood].messages];
        shuffleArray(messageQueue);
        messageIndex = 0;
    }
    
    function openMood(mood) {
        currentMood = mood;
    
        document.getElementById("menu").classList.add("hidden");
        document.getElementById("moodPage").classList.remove("hidden");
    
        document.getElementById("moodTitle").innerText = moods[mood].title;
    
        prepareMessages();
        showNextMessage();
        changeSong();
    }
    
    /* === TAMPILKAN PESAN TANPA PENGULANGAN === */
    function showNextMessage() {
        if (messageIndex >= messageQueue.length) {
            prepareMessages(); // kalau sudah habis, shuffle ulang
        }
    
        document.getElementById("messageBox").innerText = messageQueue[messageIndex];
        messageIndex++;
    }
    
    function nextMessage() {
        showNextMessage();
    }
    
    /* === GANTI LAGU TANPA PENGULANGAN BERUNTUN === */
    function changeSong() {
        const music = document.getElementById("music");
        const songs = moods[currentMood].music;
        let newSong;
    
        do {
            newSong = songs[Math.floor(Math.random() * songs.length)];
        } while (newSong === lastSong && songs.length > 1);
    
        lastSong = newSong;
        music.src = newSong;
        music.play();
    }
    
    function backMenu() {
        messageQueue = [];
        messageIndex = 0;

        document.getElementById("moodPage").classList.add("hidden");
        document.getElementById("menu").classList.remove("hidden");
    
        const music = document.getElementById("music");
        music.pause();
        music.currentTime = 0;
    }
    </script>
       

</body>
</html>

